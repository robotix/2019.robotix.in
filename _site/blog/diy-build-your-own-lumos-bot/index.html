<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"> <meta name="description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur."> <meta name="keywords" content="robotix, robotics, iit, kgp, team, events, society, technology, tutorial"> <meta name="google-site-verification" content="ZR618hQWwV_OwtWa033492kzvBaQYxBc1ZauYc5oO5A" /> <!-- Social: Twitter --> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@robotixiitkgp"> <meta name="twitter:title" content="DIY : Build your own Lumos Bot"> <meta name="twitter:description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur."> <meta name="twitter:image:src" content="/img/favicons/favicon-196x196.png"> <!-- Social: Facebook / Open Graph --> <meta property="og:title" content="DIY : Build your own Lumos Bot" /> <meta property="og:site_name" content="Technology Robotix Society, IIT Kharagpur" /> <meta property="og:type" content="website" /> <meta property="og:image" content="/img/favicons/favicon-196x196.png" /> <meta property="og:description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur." /> <!-- Social: Google+ --> <link href="https://plus.google.com/102868621563384739622" rel="publisher"> <title>DIY : Build your own Lumos Bot &bull; Technology Robotix Society, IIT Kharagpur</title> <link rel="shortcut icon" href="/img/favicons/favicon.ico"> <link rel="apple-touch-icon" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png"> <link rel="apple-touch-icon" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png"> <link rel="apple-touch-icon" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png"> <link rel="apple-touch-icon" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png"> <link rel="apple-touch-icon" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png"> <link rel="apple-touch-icon" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png"> <link rel="apple-touch-icon" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png"> <link rel="apple-touch-icon" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-160x160.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png"> <meta name="msapplication-TileColor" content="#2b5797"> <meta name="msapplication-TileImage" content="/img/favicons/mstile-144x144.png"> <meta name="msapplication-config" content="/img/favicons/browserconfig.xml"> <meta name="theme-color" content="#2b5797"> <link href="/css/main.css" rel="stylesheet"> <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --> <!-- WARNING: Respond.js doesn't work if you view the page via file:// --> <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]--> </head> <body> <div id="st-container" class="st-container"> <div class="st-pusher"> <div class="st-content"> <!-- Begin Top Section --> <section id="top-section" class="top-section image-section " style=""> <div class="overlay gradient-overlay"></div> <header id="top-header" class="top-header"> <div class="overlay white-solid"></div> <svg id="menu-trigger" class="menu-trigger icn icon-menu visible-xs" viewBox="0 0 32 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-menu"></use> </svg> <a href="/" id="logo-header" class="logo-header"> <div class="logo"></div> </a> <nav class="st-menu st-effect" id="menu"> <div class="logo-navbar logo visible-xs"></div> <ul> <li> <a class="" href=" https://makerspace.robotix.in/" target="_blank">Makerspace</a> </li> <li> <a class="" href="/FAQs/" >FAQs</a> </li> <li> <a class="" href="/workshops/" >Workshops</a> </li> <li> <a class="" href="/event/" >Events</a> </li> <li> <a class="" href="/blog/" >Blog</a> </li> <li> <a class="" href="/tutorial" >Tutorials</a> </li> <li> <a class="" href="/team/" >Team</a> </li> <li> <a class="" href="/about-us/" >About Us</a> </li> </ul> <ul id="bottom-navlinks" class="bottom-navlinks visible-xs"> <li> <a href="https://contact.robotix.in" target="_blank">Contact Us</a> </li> </ul> </nav> </header> <div class="content-wrapper"> <div class="jumbotron text-left"> <div class="animated hiding" data-animation="fadeInLeft" data-delay="500"> <h1>DIY : Build your own Lumos Bot</h1> </div> </div> </div> </section> <!-- End Top Section --> <!-- Begin Post--> <section id="post-section" class="post-section"> <div class="content-wrapper text-left"> <div class="col-md-10 col-sm-10 col-lg-offset-2 col-md-offset-2 col-sm-offset-1"> <div class="col-lg-8 col-md-10 col-xs-12"> <article class="row post"> <div class="post-body"><p><strong>Tools:</strong></p> <ul> <li>Soldering Iron</li> <li>Laptop</li> <li>AVR related programming software</li> </ul> <p><strong>Materials</strong>:</p> <ul> <li>LEDs</li> <li>LDRs</li> <li>2 Wheels</li> <li>Metal Chasis</li> <li>1 Castor Wheel</li> <li>2 DC motors</li> <li>1 Development Board</li> <li>1 Microcontroller (Atmega 16)</li> <li>Motor Driver (L293D)</li> <li>Relimates</li> <li>Potentiometers</li> </ul> <p><strong>Problem Statement of <a href="http://robotix.in/events/event/lumos">Lumos</a>:</strong></p> <p>Build one or more autonomous robot(s) that can differentiate between number of light sources of similar intensity kept inside an isolated room (Arena) and turn each one off.</p> <p>In this DIY we will learn how to detect and navigate the bot towards the light source of maximum intensity which in our case is the light source closes to the bot.</p> <p><em>For this DIY, let us divide the discussion into 3 parts. The locomotion, sensors and processing.</em></p> <p><strong>Locomotion:</strong></p> <p>_**_The locomotion system we are using here is the differential drive. It is a basic design with two motors, two wheels and a castor wheel. The chassis is a ready-made steel chassis that can be bought of the internet.</p> <p>[caption id=”attachment_450” align=”aligncenter” width=”300” caption=”Fig: Chassis for the differential Drive”]<a href="/img/blog/2012/12/1.png"><img src="/img/blog/2012/12/1-300x225.png" alt="" /></a>[/caption]</p> <p>[caption id=”attachment_450” align=”aligncenter” width=”300” caption=”Fig: Rectifier Circuit with 7805 and 7812 ICs”]<a href="/img/blog/2012/12/image12.jpg"><img src="/img/blog/2012/12/image12.jpg" alt="" /></a>[/caption]</p> <p><strong>Sensor:</strong></p> <p>_**_This is the most important part of the robot. We have used here a three sensor layout which enables the robot to sense any light source in front of it. Of course, there can be several more different layouts to optimize the performance of the robot. Below is the picture of the sensory circuit mounted on the robot.</p> <p>[caption id=”attachment_455” align=”aligncenter” width=”300” caption=”Fig: Sensor circuit and its placement on the chassis”]<a href="/img/blog/2012/12/image09.jpg"><img src="/img/blog/2012/12/image09.jpg" alt="" /></a>[/caption]</p> <p>[caption id=”attachment_454” align=”aligncenter” width=”300” caption=”Fig: Sensor circuit and its placement on the chassis”]<a href="/img/blog/2012/12/4.png"><img src="/img/blog/2012/12/4-300x225.png" alt="" /></a>[/caption]</p> <p>Let us mark these sensors as left(L), right(R) and centre(C) sensors. The ultimate goal of our code is to find which sensor receives maximum intensity and to face the robot in that direction. Below diagram shows the circuitry in the sensor circuits:</p> <p>[caption id=”attachment_453” align=”aligncenter” width=”300” caption=”Fig: Circuitry of the sensor circuit”]<img src="/img/blog/2012/12/2-300x220.png" alt="" />[/caption]</p> <p>Each sensor has to be provided a 5V Vcc supply and a data(D) output has to be taken out from it. Three sensor circuits as shown in fig 2 will complete our sensory part of the robot.</p> <p><strong>Processing:</strong></p> <p>We are here using an Atmega 16A microcontroller running at 16Mhz. The development board and programmer that are used here are available at <a href="http://www.robokits.in">www.robokits.in</a>. Of course there are several other sites too from where development boards and programmers can be acquired.</p> <p>[caption id=”attachment_450” align=”aligncenter” width=”300” caption=”Fig: Development Board for the microprocessor”]<a href="/img/blog/2012/12/image11.jpg"><img src="/img/blog/2012/12/image11.jpg" alt="" /></a>[/caption]</p> <p>For the basics regarding the Atmega 16A microcontroller, refer to its datasheet which is available online.</p> <p>So let’s get down to the connections. Here we have 3 sets of inputs coming from the 3 sensors. As these are analog signals, in order to process them, we need to provide this input to the Analog-to-Digital converter or the ADC. The ADC on the Atmega is located on the Port A. So the inputs from the sensors go to the first three pins of Port A( PA0, PA1, PA2, PA3). Now as the LED array on the development board is attached to the Port B, we will be using this port as the output from the microcontroller. From the microcontroller, the outputs have to go to the motor driver circuit which is used to run the motors.</p> <p>As the motor driver consists of two enable pins we have to provide a high to both these pins. So we use the pins PB0 and PB1 to do this. The other 4 inputs to the motor driver we provide using the pins PB3, PB4, PB5, and PB6. Below is a circuit diagram showing the connections for a motor driver circuit.</p> <p>[caption id=”attachment_456” align=”aligncenter” width=”300” caption=”Fig: Connections of a motor driver IC L293D”]<a href="/img/blog/2012/12/6.png"><img src="/img/blog/2012/12/6-300x164.png" alt="" /></a>[/caption]</p> <p>[caption id=”attachment_456” align=”aligncenter” width=”300” caption=”Fig: Motor driver IC L293D Circuit”]<a href="/img/blog/2012/12/image13.jpg"><img src="/img/blog/2012/12/image13.jpg" alt="" /></a>[/caption]</p> <p>The voltage supply at Vs is used for running the 12V 100rpm motors while the 5V supply at Vss is used for powering the internal circuitry of the IC. Here one can easily see that according to these connections, the robot follows the following motions:</p> <table cellpadding="0" cellspacing="0" border="1"> <tbody> <tr> <td width="92"> PB2 </td> <td width="92"> PB3 </td> <td width="92"> PB4 </td> <td width="92"> PB5 </td> <td width="92"> Motion </td> </tr> <tr> <td width="92"> 1 </td> <td width="92"> 0 </td> <td width="92"> 1 </td> <td width="92"> 0 </td> <td width="92"> Forward </td> </tr> <tr> <td width="92"> 0 </td> <td width="92"> 1 </td> <td width="92"> 0 </td> <td width="92"> 1 </td> <td width="92"> Backward </td> </tr> <tr> <td width="92"> 0 </td> <td width="92"> 1 </td> <td width="92"> 1 </td> <td width="92"> 0 </td> <td width="92"> Left </td> </tr> <tr> <td width="92"> 1 </td> <td width="92"> 0 </td> <td width="92"> 0 </td> <td width="92"> 1 </td> <td width="92"> Right </td> </tr> </tbody> </table> <p>So now we get to the data processing. As mentioned earlier our aim is to identify which LDR gets the maximum intensity of light. As the intensity increases the resistance decreases. From the circuit diagram of our sensor circuit it can be seen that as the light intensity increases(Resistance decreases) the voltage given at the D terminal will increase with respect to the ground. Once you understand the previous line it is easy to figure out that the LDR having maximum light falling on it will give an output D of maximum voltage with respect to the ground.</p> <p>So our algorithm for this should go as follows(L, R and C representing the various voltage outputs of the sensors):</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>If(L greater than R and L greater than C)

Turn left

Else If(R greater than C and R greater than L)

Turn right

Else If(C greater than L and C greater than R)

Go forward
</code></pre></div></div> <p>The actual code to be burnt into the microcontroller is:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include 

int a[3];             //Array to store the sensor voltages

int main(void)

{

DDRA=0x00;            //Set port A to input
DDRB=0xff;            //Set port B to output
while(1)
{

ADMUX=0b01100000;
int i;
for(i=0;ia[1] &amp;&amp; a[0]&gt;a[2])         //left sensor highest

PORTB=0b00100111;     //Turn left

else

if(a[0]a[2])          //Centre sensor highest

PORTB=0b00101011;     //Go straight

else

if(a[0]==a[1]) //Any two sensors getting same value, then go straight

PORTB=0b00101011;

else

if(a[1]==a[2])
PORTB=0b00101011;
else
if(a[2]&gt;a[1] &amp;&amp; a[2]&gt;a[0])                 //Right sensor highest
PORTB=0b00011011;            //Turn right
}
return 0;
}
</code></pre></div></div> </div> <ul class="pager col-lg-12"> <li class="previous btn-lg"><a href="/blog/hytaq-a-hybrid-terrestrial-and-aerial-quadrotor/" title="HyTAQ: A Hybrid Terrestrial and Aerial Quadrotor"><span aria-hidden="true">&larr;</span> HyTAQ: A Hyb...</a></li> <li class="next btn-lg"><a href="/blog/paleontologists-building-robot-dinos-with-3d-printed-bones/" title="Paleontologists Building Robot Dinos with 3D Printed Bones">Paleontologi... <span aria-hidden="true">&rarr;</span></a></li> </ul> </article> </div> </div> </div> </section> <!-- End Post --> <!-- Begin Footer --> <footer id="footer" class="footer"> <div class="row"> <div class="logo logo-footer pull-right"></div> </div> <div class="row"> <div class="col-md-4 col-xs-6"> <h5>Links</h5> <ul> <li><a href="https://drive.google.com/open?id=1jNJHFE1QjGOHFwhhzn6e774odGv-6eFQ" target="_blank">Robotix App</a></li> <li><a href="https://robotix.in/event/" target="_blank">Events</a></li> <li><a href="https://robotix.in/tutorial/" target="_blank">Tutorials</a></li> </ul> </div> <div class="col-md-4 col-xs-6"> <h5>Contacts</h5> <ul> <li><a href="https://contact.robotix.in" target="_blank">Contact Us</a></li> </ul> </div> <div class="col-md-4 col-xs-6"> <h5>Archives</h5> <ul> <li><a href="https://2018.robotix.in/" target="_blank">Robotix 2018</a></li> <li><a href="https://2017.robotix.in/" target="_blank">Robotix 2017</a></li> <li><a href="https://2016.robotix.in/" target="_blank">Robotix 2016</a></li> </ul> </div> </div> <div class="row"> <div class="col-md-6 col-xs-12"> <ul class="social-links"> <li> <a href="https://plus.google.com/102868621563384739622/" target="_blank"> <svg class="icn icon-google-plus" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-google-plus"></use> </svg> </a> </li> <li> <a href="https://twitter.com/RobotixIITKgp" target="_blank"> <svg class="icn icon-twitter" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-twitter"></use> </svg> </a> </li> <li> <a href="https://facebook.com/robotixiitkgp" target="_blank"> <svg class="icn icon-facebook" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-facebook"></use> </svg> </a> </li> <li> <a href="https://www.youtube.com/robotixiitkgp" target="_blank"> <svg class="icn icon-youtube" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-youtube"></use> </svg> </a> </li> <li> <a href="/feed.xml" target="_blank"> <svg class="icn icon-rss" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-rss"></use> </svg> </a> </li> </ul> </div> </div> <div class="row"> <!-- Please don't delete this line--> <div class="col-md-6"> <p class="copyright"> &copy; 2018 Technology Robotix Society, IIT Kharagpur </p> </div> </div> </footer> <!-- End Footer --> </div> </div> </div> <!-- Begin Floating Action button--> <ul class="fab"> <li> <input type="text" class="search input-sm form-control" placeholder="Search the site..."> <button class="btn btn-danger waves-circle waves-effect waves-light waves-float rotate"> <h4 class="fab-text media-middle"><b>+</b></h4> </button> </li> </ul> <script> window.jQuery || document.write('<script src="/js/jquery-2.1.1.min.js"><\/script>') </script> <script> document.write('<script src="/js/bootstrap.min.js"><\/script>') </script> <script src="/js/default.min.js"></script> <script>Waves.displayEffect();</script> <script src="/js/scripts.min.js"></script> <script> (function(){ var handle = '@robotixiitkgp'; var a = document.createElement('script'); var m = document.getElementsByTagName('script')[0]; a.async = 1; a.src = 'https://nectar.ninja/api/v1/' + handle.slice(1); m.parentNode.insertBefore(a, m); })(); </script> <script> (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st'); _st('install','a_iioDrTs6zXmqH8x5Yr','2.0.0'); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-83617238-1', 'auto'); ga('send', 'pageview'); </script> </body> </html>

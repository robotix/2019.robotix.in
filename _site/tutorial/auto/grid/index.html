<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"> <meta name="description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur."> <meta name="keywords" content="robotix, robotics, iit, kgp, team, events, society, technology, tutorial"> <meta name="google-site-verification" content="ZR618hQWwV_OwtWa033492kzvBaQYxBc1ZauYc5oO5A" /> <!-- Social: Twitter --> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@robotixiitkgp"> <meta name="twitter:title" content="Grid Follower"> <meta name="twitter:description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur."> <meta name="twitter:image:src" content="/img/favicons/favicon-196x196.png"> <!-- Social: Facebook / Open Graph --> <meta property="og:title" content="Grid Follower" /> <meta property="og:site_name" content="Technology Robotix Society, IIT Kharagpur" /> <meta property="og:type" content="website" /> <meta property="og:image" content="/img/favicons/favicon-196x196.png" /> <meta property="og:description" content="Technology Robotix Society is an official society under the Technology Students' Gymkhana IIT Kharagpur." /> <!-- Social: Google+ --> <link href="https://plus.google.com/102868621563384739622" rel="publisher"> <title>Grid Follower &bull; Technology Robotix Society, IIT Kharagpur</title> <link rel="shortcut icon" href="/img/favicons/favicon.ico"> <link rel="apple-touch-icon" sizes="152x152" href="/img/favicons/apple-touch-icon-152x152.png"> <link rel="apple-touch-icon" sizes="144x144" href="/img/favicons/apple-touch-icon-144x144.png"> <link rel="apple-touch-icon" sizes="120x120" href="/img/favicons/apple-touch-icon-120x120.png"> <link rel="apple-touch-icon" sizes="114x114" href="/img/favicons/apple-touch-icon-114x114.png"> <link rel="apple-touch-icon" sizes="76x76" href="/img/favicons/apple-touch-icon-76x76.png"> <link rel="apple-touch-icon" sizes="72x72" href="/img/favicons/apple-touch-icon-72x72.png"> <link rel="apple-touch-icon" sizes="60x60" href="/img/favicons/apple-touch-icon-60x60.png"> <link rel="apple-touch-icon" sizes="57x57" href="/img/favicons/apple-touch-icon-57x57.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-196x196.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-160x160.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-96x96.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png"> <link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png"> <meta name="msapplication-TileColor" content="#2b5797"> <meta name="msapplication-TileImage" content="/img/favicons/mstile-144x144.png"> <meta name="msapplication-config" content="/img/favicons/browserconfig.xml"> <meta name="theme-color" content="#2b5797"> <link href="/css/main.css" rel="stylesheet"> <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --> <!-- WARNING: Respond.js doesn't work if you view the page via file:// --> <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]--> </head> <body> <div id="st-container" class="st-container"> <div class="st-pusher"> <div class="st-content"> <!-- Begin Top Section --> <section id="top-section" class="top-section image-section " style=""> <div class="overlay gradient-overlay"></div> <header id="top-header" class="top-header"> <div class="overlay white-solid"></div> <svg id="menu-trigger" class="menu-trigger icn icon-menu visible-xs" viewBox="0 0 32 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-menu"></use> </svg> <a href="/" id="logo-header" class="logo-header"> <div class="logo"></div> </a> <nav class="st-menu st-effect" id="menu"> <div class="logo-navbar logo visible-xs"></div> <ul> <li> <a class="" href=" https://makerspace.robotix.in/" target="_blank">Makerspace</a> </li> <li> <a class="" href="/FAQs/" >FAQs</a> </li> <li> <a class="" href="/workshops/" >Workshops</a> </li> <li> <a class="" href="/event/" >Events</a> </li> <li> <a class="" href="/blog/" >Blog</a> </li> <li> <a class="" href="/tutorial" >Tutorials</a> </li> <li> <a class="" href="/team/" >Team</a> </li> <li> <a class="" href="/about-us/" >About Us</a> </li> </ul> <ul id="bottom-navlinks" class="bottom-navlinks visible-xs"> <li> <a href="https://contact.robotix.in" target="_blank">Contact Us</a> </li> </ul> </nav> </header> <div class="content-wrapper"> <div class="jumbotron text-left"> <div class="animated hiding" data-animation="fadeInLeft" data-delay="500"> <h1>Grid Follower</h1> </div> </div> </div> </section> <!-- End Top Section --> <!-- Begin Post--> <section id="post-section" class="post-section"> <div class="content-wrapper text-left"> <div class="col-md-10 col-sm-10 col-lg-offset-2 col-md-offset-2 col-sm-offset-1"> <div class="col-lg-8 col-md-10 col-xs-12"> <article class="row post"> <div class="post-body"><h4 id="introduction">Introduction</h4> <p>Grid solving robots are very useful in various robotics competitions. In this tutorial we would be dealing with how the grid follower robot works along with its algorithm. A grid follower is basically a line follower with a modified code which helps it in traversing a grid. Just as a simple line follower, a grid follower takes inputs from various sensors to detect its position on the grid.</p> <p><img src="https://lh3.googleusercontent.com/vC8X6ef5eZ_BYfLHcZeB2ty5OPBaUePsxRXoaDI7EZ4wUNG3a8XXkaYVgtXcQ5sqDb9Si0pwktmzmUptzc-t3U7K5eF_Iuo0WWo2k9OfrF7rxZD6Og3bD2Hp" alt="" /></p> <h4 id="robot">Robot</h4> <p>The robot will consisting of two parts</p> <p><strong>Sensor Part:</strong></p> <p>The sensor will be basically a light detecting sensor. We here are using the property of absorption. We all know that black surface tends to absorb all the light that falls on it. So, we place a LED(Light Emitting Diode) along with a LDR(Light Dependant Resistor) as our sensor. Suppose that our sensor is hovering upon white surface. White surface reflects more than black. Therefore, more light would be reflected on LDR and thus, its resistance would change and we can predict accordingly that the sensor will be upon white surface. When it will be hovering upon black surface, less amount of light will be reflected and so we can predict that it is over the black surface.<br /> <img src="https://lh3.googleusercontent.com/DbpUUskKlK-8xmirR7WIReD47ARYU3p_xOZSsS0XFXnvm6cPeNp5FTBVPXrKGiwnB533H3-123Y4B38b9Tct7v39IJ4ZvHXSrzeteDwNPh-zQIRLTiDP9xjuqg" alt="" /><br /> We can use IR sensor too instead of LED-LDR sensor.</p> <p><img src="https://lh4.googleusercontent.com/bpzbTsW5LSNQsgs7pATEr9QEJT7y02v89U0oc5qWCKSl7XALQurs5CfHN219-m6jdrAdTGbzmgKI7X76bNZ_A4G-6v5PZVK9HhtL919J7k1k_CxSDZZ8Esg-vg" alt="" /></p> <p><strong>Arrangement:</strong></p> <p>The Robot will be a simple line follower with additional sensors for finding nodes in the grid (Node is basically an intersection between two lines). So there will be some sensors for line following and some sensors for node detection.<br />     –0-0-0-0-0–<br />     |           |<br />     |           |<br />     |           |<br /> 0–[M]         [M]–0<br />     |           |<br />     ————-<br /> The above figure shows the robot along with sensor placement. The sensors are shown by “0” and the motors in the robot are shown by “[M]”. Basically the Grid follower robot will have line follower part (which includes the front sensors) and node detector (which includes the sensors parallel with motor shaft). The Grid follower has to basically follow line when it is not on a node and when a node arrives it has to decide whether to take a left or right depending upon the final position it has to reach.</p> <p><strong>Driving Part:</strong></p> <p>This part is very simple it include two motor along with a motor driver IC. Motor driver will not be explained in this tutorial. It is explained in detail in <a href="/tutorials/category/auto/motor_driver">this</a> tutorial.</p> <h4 id="line-following-algorithm">Line Following Algorithm</h4> <p>The line follower is explained in another <a href="/tutorials/category/avr/linefollower">tutorial</a>. Basically it deciding which motor to run depending upon the locations of sensors. In our code one function is made which uses the line follower algorithm.</p> <h4 id="grid-following-algorithm">Grid Following Algorithm</h4> <p>The Problem statement here is that given two coordinates on grid the robot has to move from one point to another. For convenience we are considering that the robot will cover the x-coordinates first and the will cover the y-coordinates. For this configuration we need to perform the following steps:<br /> Align in proper X-direction.<br /> Move on some nodes so that the current x-coordinate = the final x-coordinate.<br /> Align in proper Y-direction.<br /> Move on some nodes so that the current y-coordinate = the final y-coordinate.<br /> With these four steps your robot will reach the final coordinate.<br /> Example:<br /> Your robot is at (0,0) and it need to reach (2,2). The left lower corner is (0,0) and the right upper corner in (2,2).<br /> “[<strong>w]</strong>” means forward direction.<br /> “[<strong>s]</strong>” means backward direction.<br /> “[<strong>a]</strong>” means left direction.<br /> “[<strong>d]</strong>” means right direction.<br /> “[<strong>0]</strong>” meas node.<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[<strong>a]</strong>-—[0]—-[0]–<br />    |      |      |  <br /> So currently your robot is at (0,0) and pointing in left direction.<br /> It has to reach (2,2) first covering x-coordinates and then y-coordinates.<br /> 1] Align in proper direction.<br /> In this case the robot must point towards right. Therefore after this step your grid along with robot will look like.<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[<strong>w]</strong>-—[0]—-[0]–<br />    |      |      |  </p> <p>   |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[<strong>d]</strong>-—[0]—-[0]–<br />    |      |      |  <br /> 2] Move on some nodes so that current x-coordinate is equal to final x-coordinate.<br /> In this case it has to move from (0,0) to (1,0) to (2,0)<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[<strong>d]</strong>-—[0]—-[0]–<br />    |      |      |  </p> <p>   |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[<strong>d]</strong>-—[0]–<br />    |      |      |  </p> <p>   |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[<strong>d]</strong>--<br />    |      |      |  <br /> 3] Align in proper direction.<br /> In this case the robot must point towards top. Therefore after this step your grid along with robot will look like.<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[<strong>w]</strong>--<br />    |      |      |  <br /> 4] Move on some nodes so that current y-coordinate is equal to final y-coordinate.<br /> In this case it has to move from (2,0) to (2,1) to (2,2)<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[<strong>w]</strong>--<br />    |      |      |  </p> <p>   |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[<strong>w]</strong>--<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  </p> <p>   |      |      |  <br /> --[0]—-[0]—-[<strong>w]</strong>--<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> --[0]—-[0]—-[0]–<br />    |      |      |  <br /> So, we have tested that our algorithm works!!</p> <h4 id="the-hardware-part-of-the-robot">The Hardware Part of the Robot</h4> <p>In this section the connections of sensors motor-driver and microcontroller will be explained. Before reading this section make sure that you completely understand the functioning of motor-driver IC (L293d) , LED-LDR sensor and pinouts of ATmega16.<br /> I will be using ATmega16 for this grid follower as my microcontroller.</p> <p>As we have already discussed where to place the sensors on the bot, now we will talk about its connections with the microcontroller.<br /> The sensor will give output in the form of analog-voltage. This voltage has to be compared with some threshold voltage to decide whether the concerned sensor ie either on white or black. For this there are two methods:</p> <ol> <li><strong>ADC - Analog to Digital Converter:</strong><br /> Here we assign a digital value to certain analog voltage and then using software compare it with the threshold value. In this case the output from the sensor can be directly connected to the ADC pin of the microcontroller.</li> <li><strong>Comparator:</strong><br /> Here the analog voltage is compared using another know voltage(Vth) which can be set up using a potentiometer. Depending upon the connections the output will be either high or low. In this case the output from the comparator can be directly given as input to any I/O pin( Input / Output ) of the microcontroller.</li> </ol> <p>The motors connection will be done with the motor-driver IC and the control lines of the motor driver IC are connected to the microcontroller (For more specific details refer to <a href="/tutorials/category/auto/motor_driver">motor-driver tutorial</a>)</p> </div> </article> </div> </div> </div> </section> <!-- End Post --> <!-- Begin Footer --> <footer id="footer" class="footer"> <div class="row"> <div class="logo logo-footer pull-right"></div> </div> <div class="row"> <div class="col-md-4 col-xs-6"> <h5>Links</h5> <ul> <li><a href="https://drive.google.com/open?id=1jNJHFE1QjGOHFwhhzn6e774odGv-6eFQ" target="_blank">Robotix App</a></li> <li><a href="https://robotix.in/event/" target="_blank">Events</a></li> <li><a href="https://robotix.in/tutorial/" target="_blank">Tutorials</a></li> </ul> </div> <div class="col-md-4 col-xs-6"> <h5>Contacts</h5> <ul> <li><a href="https://contact.robotix.in" target="_blank">Contact Us</a></li> </ul> </div> <div class="col-md-4 col-xs-6"> <h5>Archives</h5> <ul> <li><a href="https://2018.robotix.in/" target="_blank">Robotix 2018</a></li> <li><a href="https://2017.robotix.in/" target="_blank">Robotix 2017</a></li> <li><a href="https://2016.robotix.in/" target="_blank">Robotix 2016</a></li> </ul> </div> </div> <div class="row"> <div class="col-md-6 col-xs-12"> <ul class="social-links"> <li> <a href="https://plus.google.com/102868621563384739622/" target="_blank"> <svg class="icn icon-google-plus" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-google-plus"></use> </svg> </a> </li> <li> <a href="https://twitter.com/RobotixIITKgp" target="_blank"> <svg class="icn icon-twitter" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-twitter"></use> </svg> </a> </li> <li> <a href="https://facebook.com/robotixiitkgp" target="_blank"> <svg class="icn icon-facebook" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-facebook"></use> </svg> </a> </li> <li> <a href="https://www.youtube.com/robotixiitkgp" target="_blank"> <svg class="icn icon-youtube" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-youtube"></use> </svg> </a> </li> <li> <a href="/feed.xml" target="_blank"> <svg class="icn icon-rss" viewBox="0 0 30 32"> <use xlink:href="/img/sprites/sprites.min.svg#icon-rss"></use> </svg> </a> </li> </ul> </div> </div> <div class="row"> <!-- Please don't delete this line--> <div class="col-md-6"> <p class="copyright"> &copy; 2018 Technology Robotix Society, IIT Kharagpur </p> </div> </div> </footer> <!-- End Footer --> </div> </div> </div> <!-- Begin Floating Action button--> <ul class="fab"> <li> <input type="text" class="search input-sm form-control" placeholder="Search the site..."> <button class="btn btn-danger waves-circle waves-effect waves-light waves-float rotate"> <h4 class="fab-text media-middle"><b>+</b></h4> </button> </li> </ul> <script> window.jQuery || document.write('<script src="/js/jquery-2.1.1.min.js"><\/script>') </script> <script> document.write('<script src="/js/bootstrap.min.js"><\/script>') </script> <script src="/js/default.min.js"></script> <script>Waves.displayEffect();</script> <script src="/js/scripts.min.js"></script> <script> (function(){ var handle = '@robotixiitkgp'; var a = document.createElement('script'); var m = document.getElementsByTagName('script')[0]; a.async = 1; a.src = 'https://nectar.ninja/api/v1/' + handle.slice(1); m.parentNode.insertBefore(a, m); })(); </script> <script> (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st'); _st('install','a_iioDrTs6zXmqH8x5Yr','2.0.0'); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-83617238-1', 'auto'); ga('send', 'pageview'); </script> </body> </html>
